{[{ define "body" }]}
<section class="content-header">
    <a href="/admin_user/add" class="btn btn-primary">添加</a>
    <div class="box">
        <div class="box-header">
            <h3 class="box-title">Users</h3>
        </div>
        <div class="box-body">
            <table class="table table-hover" id="list"></table>
        </div>
    </div>
</section>


<script>
    $(function () {
        $('#list').DataTable({
            "processing": true,
            "serverSide": true,
            "ajax": location.href,
            "columns": [
                { title: "User", data: "User" },
                { title: "Email", data: "Email" },
                {
                    render: function (data, type, row) {
                        return `<a href="/admin_user/edit?User=${row.User}" class="btn btn-primary">编辑</a>
                            <a href="/admin_user/delete?User=${row.User}" onclick="return confirm('确定删除吗？')" class="btn btn-danger">删除</a>`
                    },
                },
            ],
            'pageLength': 20,
            'paging': true,
            'lengthChange': false,
            'searching': false,
            'ordering': false,
            'info': true,
            'autoWidth': true
        })
    })
</script>
{[{ end }]}